<div class="flex flex-wrap px-4 sm:px-6 lg:px-10 py-4">
  <!-- Filter Section -->
  <div class="w-full sm:w-1/3 lg:w-1/4 mb-6 sm:mb-0">
    <h6 class="font-bold mb-4">Filter</h6>
    <div class="flex flex-col px-4 sm:px-6">
      <div class="w-full p-2 mb-4">
        <mat-form-field class="w-full">
          <mat-label>Category</mat-label>
          <mat-select
            name="categoryId"
            [(ngModel)]="categoryId"
            (valueChange)="getProducts()"
          >
            @for (item of category; track $index) {
            <mat-option [value]="item._id">{{ item.name }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
      <div class="w-full p-2 mb-4">
        <mat-form-field class="w-full">
          <mat-label>Brands</mat-label>
          <mat-select
            name="brandId"
            [(ngModel)]="brandId"
            (valueChange)="getProducts()"
          >
            @for (item of brands; track $index) {
            <mat-option [value]="item._id">{{ item.name }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </div>

  <!-- Products Section -->
  <div class="flex-1">
    <div class="flex justify-between mb-6">
      <h6 class="font-bold">Products</h6>
      <mat-form-field class="w-40 sm:w-48 md:w-60">
        <mat-label>Order By</mat-label>
        <mat-select (valueChange)="orderChange($event)">
          <mat-option [value]="1">Price Low to High</mat-option>
          <mat-option [value]="-1">Price High to Low</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="flex flex-wrap gap-8 px-4 py-4">
      @for (product of products; track $index) {
      <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 mb-10">
        <app-product-cart [product]="product"></app-product-cart>
      </div>
      }
      @empty {
      <h4 class="text-red-600">Not Available</h4>
      }
    </div>

    <!-- Pagination -->
    <div class="flex gap-4 justify-center mt-6">
      <button mat-raised-button color="primary" [disabled]="page == 1" (click)="pageChange(page - 1)">Previous</button>
      <button mat-raised-button color="primary" [disabled]="!isNext" (click)="pageChange(page + 1)">Next</button>
    </div>
  </div>
</div>
